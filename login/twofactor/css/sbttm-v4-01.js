var tm=tm||{};tm.version=4,tm.create_url=function(t,e,n,r,c){function o(){return Math.floor(2742745743359*Math.random())}function i(){return a(o())}function a(t){return(t+78364164096).toString(36)}var u=o(),m=o(),l=885187064159;m=((m=m-m%256+tm.version)+u)%2742745743359,l=(l+u)%2742745743359;var s="https://"+t+"/"+(u=i()+a(u))+e,p=[(m=a(l)+a(m))+"="+n,i()+i()+"="+r];return void 0!==c&&c.length>0&&p.push(i()+i()+"="+c),s+"?"+p.join("&")},tm.beacon=function(t,e,n,r){var c="turn:aa.online-metrix.net?transport=",o="1:"+e+":"+n;try{var i=new RTCPeerConnection({iceServers:[{urls:c+"tcp",username:o,credential:n},{urls:c+"udp",username:o,credential:n},]});i.createDataChannel(Math.random().toString());var a=function(){},u=function(t){i.setLocalDescription(t,a,a)};"undefined"==typeof Promise||i.createOffer.length>0?i.createOffer(u,a):i.createOffer().then(u,a),setInterval(function(){i.close()},1e4)}catch(m){}},tm.load_tags=function(t,e,n,r){tm.beacon(t,e,n,r);var c=document.getElementsByTagName("head").item(0),o=document.createElement("script");o.id="tmx_tags_js",o.setAttribute("type","text/javascript");var i=tm.create_url(t,".js",e,n,r);o.setAttribute("src",i),tm.set_csp_nonce(o),c.appendChild(o)},tm.csp_nonce=null,tm.register_csp_nonce=function(t){if(void 0!==t.currentScript&&null!==t.currentScript){var e=t.currentScript.getAttribute("nonce");null!=e&&""!==e?tm.csp_nonce=e:void 0!==t.currentScript.nonce&&null!==t.currentScript.nonce&&""!==t.currentScript.nonce&&(tm.csp_nonce=t.currentScript.nonce)}},tm.set_csp_nonce=function(t){null!==tm.csp_nonce&&(t.setAttribute("nonce",tm.csp_nonce),t.getAttribute("nonce")!==tm.csp_nonce&&(t.nonce=tm.csp_nonce))},tm.cleanup=function(){for(;null!==(hp_frame=document.getElementById("tdz_ifrm"));)hp_frame.parentElement.removeChild(hp_frame);for(;null!==(tmx_frame=document.getElementById("tmx_tags_iframe"));)tmx_frame.parentElement.removeChild(tmx_frame);for(;null!==(tmx_script=document.getElementById("tmx_tags_js"));)tmx_script.parentElement.removeChild(tmx_script)},tm.pr=function(t,e,n,r){void 0!==t&&void 0!==e&&void 0!==n&&8===e.length&&(tm.cleanup(),tm.register_csp_nonce(document),tm.load_tags(t,e,n,r))};